C51 COMPILER V9.50a   MAIN                                                                 12/04/2016 00:07:05 PAGE 1   


C51 COMPILER V9.50a, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*
   2          PWM
   3          16/11/30
   4          抛弃原来错误的方法
   5          采用定时器中断
   6          */
   7          /*中断号 0,2为外部中断 1,3为定时器中断 4为串口中断 
   8          即：
   9          0       INT0
  10          1       T0
  11          2       INT1
  12          3       T1
  13          4       serial 
  14          
  15          TCON:D7-D0                      D3
  16                  TF1 TR1 TF0     TR0     IE1     IT1     IE0     IT0
  17          IE      :D7-D0                  
  18                  EA                      ES      ET1     EX1     ET0     EX0
  19          TMOD:D7-D0
  20                  GATE    C/T M1  M0|     GATE    C/T     M1      M0
  21                                  T1                |                     T0
  22          
  23          */
  24          #include "mcu_contest.h"
  25          
  26          
  27          void main()
  28          {
  29   1              
  30   1              Timer0Init();
  31   1              //初始化定时器
  32   1              EA=1;
  33   1              //允许中中断
  34   1              ET0=1;EX0=1;
  35   1              IT0=1;
  36   1              //允许定时器中断,外部中断,中断触发方式为下降沿触发
  37   1              //led0=0;
  38   1              while(1){
  39   2              /*
  40   2              1.扫描按键　（亮度／模式／色温）
  41   2              2.判断模式，自动或手动
  42   2              若自动：
  43   2                      读取红外传感器的值
  44   2                              若为0 设置PWM亮度（占空比）为1
  45   2                              若为1 读取亮度传感器的值，并设置相应占空比
  46   2              若手动;
  47   2                      设置亮度往传感器对应值接近两个单位  正常亮度时光敏电阻传感器大概为2.5-2.
             -7K
  48   2              3.读取温度湿度
  49   2              4.读取时间
  50   2              5.刷新OLED屏 时间，日期，温度/湿度，亮度，自动/手动
  51   2              
  52   2              调整时间未完成
  53   2              PWM将在定时器中断中完成
  54   2              
C51 COMPILER V9.50a   MAIN                                                                 12/04/2016 00:07:05 PAGE 2   

  55   2              
  56   2              */
  57   2                      //1.key
  58   2                      scankey();
  59   2                      
  60   2                      
  61   2              }
  62   1              
  63   1              
  64   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    291    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
